<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TypeKeep</title>
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>
<div id="app">

  <!-- Top Bar -->
  <header class="topbar">
    <div class="topbar-left">
      <span class="logo-icon">&#9000;</span>
      <span class="logo-text">TypeKeep</span>
    </div>
    <div class="search-wrap">
      <svg class="search-svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/>
      </svg>
      <input type="text" id="search-input" placeholder="Search history..." autocomplete="off" spellcheck="false">
    </div>
    <div class="topbar-right">
      <button id="status-btn" class="status-btn recording" onclick="toggleRecording()">
        <span class="status-dot"></span>
        <span class="status-label">Recording</span>
      </button>
      <button class="icon-btn" title="Settings" onclick="openSettings()">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="20" height="20">
          <circle cx="12" cy="12" r="3"/>
          <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15 1.65 1.65 0 0 0 3.17 14H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68 1.65 1.65 0 0 0 10 3.17V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9 1.65 1.65 0 0 0 20.83 10H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"/>
        </svg>
      </button>
    </div>
  </header>

  <!-- Stats Bar -->
  <section class="stats-bar">
    <div class="stat-card"><span class="stat-value" id="stat-keys">&mdash;</span><span class="stat-label">Keystrokes</span></div>
    <div class="stat-card"><span class="stat-value" id="stat-messages">&mdash;</span><span class="stat-label">Events (24h)</span></div>
    <div class="stat-card"><span class="stat-value" id="stat-clicks">&mdash;</span><span class="stat-label">Clicks</span></div>
    <div class="stat-card"><span class="stat-value" id="stat-shortcuts">&mdash;</span><span class="stat-label">Shortcuts</span></div>
    <div class="stat-card"><span class="stat-value" id="stat-dbsize">&mdash;</span><span class="stat-label">DB Size</span></div>
  </section>

  <!-- Tabs -->
  <nav class="tab-bar">
    <button class="tab active" data-tab="history" onclick="switchTab('history')">Text History</button>
    <button class="tab" data-tab="clipboard" onclick="switchTab('clipboard')">Clipboard</button>
    <button class="tab" data-tab="activity" onclick="switchTab('activity')">Activity</button>
    <button class="tab" data-tab="macros" onclick="switchTab('macros')">Macros</button>
    <button class="tab" data-tab="devices" onclick="switchTab('devices')">Devices</button>
    <button class="tab" data-tab="shortcuts-guide" onclick="switchTab('shortcuts-guide')">Shortcut Guide</button>
  </nav>

  <!-- ‚ïê‚ïê‚ïê TAB: History ‚ïê‚ïê‚ïê -->
  <div id="tab-history" class="tab-panel active">
    <section class="filter-bar">
      <div class="custom-select" id="cs-time">
        <button class="cs-trigger" data-value="24h">Last 24 hours</button>
        <div class="cs-dropdown">
          <div class="cs-option" data-value="1h">Last 1 hour</div>
          <div class="cs-option" data-value="3h">Last 3 hours</div>
          <div class="cs-option" data-value="6h">Last 6 hours</div>
          <div class="cs-option" data-value="12h">Last 12 hours</div>
          <div class="cs-option selected" data-value="24h">Last 24 hours</div>
          <div class="cs-option" data-value="3d">Last 3 days</div>
          <div class="cs-option" data-value="7d">Last 7 days</div>
          <div class="cs-option" data-value="30d">Last 30 days</div>
          <div class="cs-option" data-value="all">All time</div>
        </div>
      </div>
      <div class="custom-select" id="cs-gap">
        <button class="cs-trigger" data-value="5">5 s gap</button>
        <div class="cs-dropdown">
          <div class="cs-option" data-value="1">1 s gap</div>
          <div class="cs-option" data-value="2">2 s gap</div>
          <div class="cs-option" data-value="3">3 s gap</div>
          <div class="cs-option selected" data-value="5">5 s gap</div>
          <div class="cs-option" data-value="10">10 s gap</div>
          <div class="cs-option" data-value="30">30 s gap</div>
          <div class="cs-option" data-value="60">1 min gap</div>
          <div class="cs-option" data-value="300">5 min gap</div>
        </div>
      </div>
      <div class="custom-select" id="cs-app">
        <button class="cs-trigger" data-value="">All Apps</button>
        <div class="cs-dropdown">
          <div class="cs-option selected" data-value="">All Apps</div>
        </div>
      </div>
      <div class="custom-select" id="cs-sort">
        <button class="cs-trigger" data-value="newest">Newest first</button>
        <div class="cs-dropdown">
          <div class="cs-option selected" data-value="newest">Newest first</div>
          <div class="cs-option" data-value="oldest">Oldest first</div>
        </div>
      </div>
      <div class="filter-toggles">
        <div class="custom-select" id="cs-view">
          <button class="cs-trigger" data-value="final">Final text</button>
          <div class="cs-dropdown">
            <div class="cs-option selected" data-value="final">Final text</div>
            <div class="cs-option" data-value="raw">Raw keys</div>
            <div class="cs-option" data-value="chrono">Chronological</div>
          </div>
        </div>
      </div>
      <div class="filter-actions">
        <button class="btn-danger-sm" onclick="openDeleteModal()" title="Delete data">
          <svg viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 6h18M8 6V4h8v2M5 6v14a2 2 0 002 2h10a2 2 0 002-2V6"/><path d="M10 11v6M14 11v6"/></svg>
          Delete
        </button>
        <button class="btn-ghost-sm" onclick="exportData()" title="Export">
          <svg viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
          Export
        </button>
        <button class="btn-ghost-sm" onclick="el('import-file').click()" title="Import">
          <svg viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
          Import
        </button>
        <input type="file" id="import-file" accept=".json" style="display:none" onchange="importData(this)">
      </div>
    </section>
    <main id="messages" class="messages"></main>
    <div id="load-more-wrap" class="load-more-wrap" style="display:none">
      <button class="btn-accent" onclick="loadMore()">Load More</button>
    </div>
    <div id="empty-state" class="empty-state" style="display:none">
      <div class="empty-icon">&#128221;</div>
      <h3>No messages found</h3>
      <p>Start typing anywhere &mdash; your keystrokes will appear here.</p>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê TAB: Clipboard ‚ïê‚ïê‚ïê -->
  <div id="tab-clipboard" class="tab-panel">
    <section class="filter-bar">
      <div class="custom-select" id="cs-clip-time">
        <button class="cs-trigger" data-value="24h">Last 24 hours</button>
        <div class="cs-dropdown">
          <div class="cs-option" data-value="1h">Last 1 hour</div>
          <div class="cs-option" data-value="6h">Last 6 hours</div>
          <div class="cs-option selected" data-value="24h">Last 24 hours</div>
          <div class="cs-option" data-value="7d">Last 7 days</div>
          <div class="cs-option" data-value="30d">Last 30 days</div>
          <div class="cs-option" data-value="all">All time</div>
        </div>
      </div>
      <div class="custom-select" id="cs-clip-type">
        <button class="cs-trigger" data-value="">All Types</button>
        <div class="cs-dropdown">
          <div class="cs-option selected" data-value="">All Types</div>
          <div class="cs-option" data-value="text">Text</div>
          <div class="cs-option" data-value="image">Images</div>
          <div class="cs-option" data-value="files">Files</div>
        </div>
      </div>
      <div class="filter-actions">
        <button class="btn-ghost-sm" id="clip-pin-filter" onclick="toggleClipPinFilter()">
          <svg viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>
          Pinned
        </button>
        <button class="btn-danger-sm" onclick="clearClipboard()">
          <svg viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 6h18M8 6V4h8v2M5 6v14a2 2 0 002 2h10a2 2 0 002-2V6"/></svg>
          Clear
        </button>
      </div>
    </section>
    <div class="clip-stats" id="clip-stats"></div>
    <main id="clipboard-list" class="clipboard-grid"></main>
    <div id="clip-load-more" class="load-more-wrap" style="display:none">
      <button class="btn-accent" onclick="loadMoreClipboard()">Load More</button>
    </div>
    <div id="clipboard-empty" class="empty-state" style="display:none">
      <div class="empty-icon">&#128203;</div>
      <h3>No clipboard entries</h3>
      <p>Copy text, images, or files &mdash; they'll appear here automatically.</p>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê TAB: Activity ‚ïê‚ïê‚ïê -->
  <div id="tab-activity" class="tab-panel">
    <section class="filter-bar">
      <div class="custom-select" id="cs-act-time">
        <button class="cs-trigger" data-value="24h">Last 24 hours</button>
        <div class="cs-dropdown">
          <div class="cs-option" data-value="1h">Last 1 hour</div>
          <div class="cs-option" data-value="3h">Last 3 hours</div>
          <div class="cs-option selected" data-value="24h">Last 24 hours</div>
          <div class="cs-option" data-value="7d">Last 7 days</div>
          <div class="cs-option" data-value="all">All time</div>
        </div>
      </div>
      <div class="custom-select" id="cs-act-type">
        <button class="cs-trigger" data-value="">All Types</button>
        <div class="cs-dropdown">
          <div class="cs-option selected" data-value="">All Types</div>
          <div class="cs-option" data-value="mouse_click">Mouse Clicks</div>
          <div class="cs-option" data-value="mouse_move">Mouse Moves</div>
          <div class="cs-option" data-value="mouse_scroll">Mouse Scroll</div>
          <div class="cs-option" data-value="shortcut">Shortcuts</div>
          <div class="cs-option" data-value="notification">Notifications</div>
        </div>
      </div>
    </section>
    <main id="activity-list" class="activity-list"></main>
    <div id="activity-empty" class="empty-state" style="display:none">
      <div class="empty-icon">&#128065;</div>
      <h3>No activity recorded yet</h3>
      <p>Mouse clicks, shortcuts, and notifications will appear here.</p>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê TAB: Macros ‚ïê‚ïê‚ïê -->
  <div id="tab-macros" class="tab-panel">
    <div class="macros-header">
      <h2>Macros</h2>
      <button class="btn-accent" onclick="openMacroEditor()">+ New Macro</button>
    </div>
    <div class="macros-info">
      <p>Create macros to automate key sequences, shortcuts, and typing. Combine hotkeys, text input, delays, and clicks.</p>
    </div>
    <main id="macro-list" class="macro-list"></main>
    <div id="macros-empty" class="empty-state" style="display:none">
      <div class="empty-icon">&#9889;</div>
      <h3>No macros yet</h3>
      <p>Click "+ New Macro" to create your first automation.</p>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê TAB: Devices ‚ïê‚ïê‚ïê -->
  <div id="tab-devices" class="tab-panel">
    <div class="devices-section">
      <div class="devices-header">
        <h2>Sync &amp; Devices</h2>
      </div>

      <!-- This Device -->
      <div class="device-card self-device">
        <div class="device-card-header">
          <span class="device-icon">&#128187;</span>
          <div class="device-info">
            <span class="device-name" id="my-device-name">This Device</span>
            <span class="device-id" id="my-device-id"></span>
          </div>
          <span class="device-badge self">This Device</span>
        </div>
        <div class="sync-settings">
          <div class="field"><label>Device Name</label><input type="text" id="sync-device-name" placeholder="My PC"></div>
          <div class="field"><label>Sync Key (shared passphrase)</label><input type="text" id="sync-key" placeholder="Enter a sync passphrase..." class="mono"></div>
          <div class="field-check"><input type="checkbox" id="sync-enabled"><label for="sync-enabled">Enable sync</label></div>
          <div class="field-check"><input type="checkbox" id="sync-clipboard"><label for="sync-clipboard">Sync clipboard across devices</label></div>
          <button class="btn-accent" onclick="saveSyncSettings()" style="margin-top:8px">Save Sync Settings</button>
        </div>
      </div>

      <!-- Pair New Device -->
      <div class="pair-section">
        <h3>Pair a Device</h3>
        <p class="hint">Enter the IP address and port of another TypeKeep instance to pair with it. Both devices must have the same sync key.</p>
        <div class="pair-form">
          <input type="text" id="pair-ip" placeholder="192.168.1.100">
          <input type="number" id="pair-port" placeholder="7700" value="7700" style="width:90px">
          <input type="text" id="pair-key" placeholder="Sync key" class="mono">
          <button class="btn-accent" onclick="pairDevice()">Pair</button>
        </div>
      </div>

      <!-- Paired Devices -->
      <h3 style="margin-top:20px">Paired Devices</h3>
      <main id="device-list" class="device-list"></main>
      <div id="devices-empty" class="empty-state" style="display:none">
        <div class="empty-icon">&#128279;</div>
        <h3>No paired devices</h3>
        <p>Pair with another TypeKeep instance to sync data across devices.</p>
      </div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê TAB: Shortcut Guide ‚ïê‚ïê‚ïê -->
  <div id="tab-shortcuts-guide" class="tab-panel">
    <div class="guide-section">
      <h2>Common Keyboard Shortcuts</h2>
      <p class="guide-subtitle">Reference for system and app shortcuts. TypeKeep records all of these automatically.</p>
      <div class="guide-grid">
        <div class="guide-category">
          <h3>System</h3>
          <div class="guide-item"><kbd>Ctrl+Shift+Esc</kbd><span>Task Manager</span></div>
          <div class="guide-item"><kbd>Win+E</kbd><span>File Explorer</span></div>
          <div class="guide-item"><kbd>Win+D</kbd><span>Show Desktop</span></div>
          <div class="guide-item"><kbd>Win+L</kbd><span>Lock Screen</span></div>
          <div class="guide-item"><kbd>Win+I</kbd><span>Settings</span></div>
          <div class="guide-item"><kbd>Alt+Tab</kbd><span>Switch Window</span></div>
          <div class="guide-item"><kbd>Alt+F4</kbd><span>Close Window</span></div>
          <div class="guide-item"><kbd>Win+Shift+S</kbd><span>Screenshot</span></div>
          <div class="guide-item"><kbd>Ctrl+Shift+N</kbd><span>New Folder</span></div>
        </div>
        <div class="guide-category">
          <h3>Text Editing</h3>
          <div class="guide-item"><kbd>Ctrl+C</kbd><span>Copy</span></div>
          <div class="guide-item"><kbd>Ctrl+V</kbd><span>Paste</span></div>
          <div class="guide-item"><kbd>Ctrl+X</kbd><span>Cut</span></div>
          <div class="guide-item"><kbd>Ctrl+Z</kbd><span>Undo</span></div>
          <div class="guide-item"><kbd>Ctrl+Y</kbd><span>Redo</span></div>
          <div class="guide-item"><kbd>Ctrl+A</kbd><span>Select All</span></div>
          <div class="guide-item"><kbd>Ctrl+F</kbd><span>Find</span></div>
          <div class="guide-item"><kbd>Ctrl+H</kbd><span>Replace</span></div>
          <div class="guide-item"><kbd>Ctrl+S</kbd><span>Save</span></div>
        </div>
        <div class="guide-category">
          <h3>Browser</h3>
          <div class="guide-item"><kbd>Ctrl+T</kbd><span>New Tab</span></div>
          <div class="guide-item"><kbd>Ctrl+W</kbd><span>Close Tab</span></div>
          <div class="guide-item"><kbd>Ctrl+Shift+T</kbd><span>Reopen Tab</span></div>
          <div class="guide-item"><kbd>Ctrl+L</kbd><span>Address Bar</span></div>
          <div class="guide-item"><kbd>Ctrl+R / F5</kbd><span>Refresh</span></div>
          <div class="guide-item"><kbd>Ctrl+D</kbd><span>Bookmark</span></div>
        </div>
        <div class="guide-category">
          <h3>Your Macros</h3>
          <div id="guide-macros-list"><em class="text-muted">No macros configured</em></div>
        </div>
      </div>
    </div>
  </div>

  <div id="loading" class="loading-indicator" style="display:none"><div class="spinner"></div></div>
</div>

<!-- ‚ïê‚ïê‚ïê Settings Modal ‚ïê‚ïê‚ïê -->
<div id="settings-modal" class="modal-overlay" style="display:none">
  <div class="modal modal-lg">
    <div class="modal-header"><h2>Settings</h2><button class="icon-btn close-btn" onclick="closeSettings()">&times;</button></div>
    <div class="modal-body settings-grid">
      <fieldset>
        <legend>Recording</legend>
        <div class="field-check"><input type="checkbox" id="s-keyboard" checked><label for="s-keyboard">Record keyboard</label></div>
        <div class="field-check"><input type="checkbox" id="s-mouse" checked><label for="s-mouse">Record mouse clicks</label></div>
        <div class="field-check"><input type="checkbox" id="s-scroll"><label for="s-scroll">Record mouse scroll</label></div>
        <div class="field-check"><input type="checkbox" id="s-movement"><label for="s-movement">Record mouse movement</label></div>
        <div class="field-check"><input type="checkbox" id="s-shortcuts" checked><label for="s-shortcuts">Record shortcuts</label></div>
        <div class="field-check"><input type="checkbox" id="s-notifications" checked><label for="s-notifications">Record notifications</label></div>
        <div class="field-check"><input type="checkbox" id="s-clipboard" checked><label for="s-clipboard">Record clipboard history</label></div>
      </fieldset>
      <fieldset>
        <legend>Grouping</legend>
        <div class="field"><label>Default gap (seconds)</label><input type="number" id="s-gap" min="1" max="600" value="5"></div>
        <div class="field"><label>Same-window gap (seconds)</label><input type="number" id="s-swgap" min="1" max="3600" value="30"></div>
        <div class="field"><label>Min message length</label><input type="number" id="s-minlen" min="0" max="1000" value="1"></div>
        <div class="field-check"><input type="checkbox" id="s-split-enter"><label for="s-split-enter">Split on Enter key</label></div>
      </fieldset>
      <fieldset>
        <legend>Data</legend>
        <div class="field"><label>Retention (days)</label><input type="number" id="s-retention" min="1" max="3650" value="30"></div>
        <div class="field"><label>Auto-save interval (seconds)</label><input type="number" id="s-flush" min="1" max="60" value="1"></div>
        <div class="field-check"><input type="checkbox" id="s-boot"><label for="s-boot">Start on system boot</label></div>
      </fieldset>
      <fieldset>
        <legend>Danger Zone</legend>
        <button class="btn-danger" onclick="clearAllData()">Clear All Data</button>
        <p class="hint">Permanently delete all recorded events. This cannot be undone.</p>
      </fieldset>
      <fieldset>
        <legend>‚òÅÔ∏è Cloud Sync</legend>
        <p class="hint" style="margin-bottom:10px">Sync clipboard &amp; history across all your devices (desktop, Android, iOS). Just pick a sync key and enable it!</p>
        <div class="field"><label>Sync Key (shared passphrase ‚Äî same on all devices)</label><input type="text" id="s-cloud-key" placeholder="pick-any-passphrase"></div>
        <div class="field-check"><input type="checkbox" id="s-cloud-enabled"><label for="s-cloud-enabled">Enable cloud sync</label></div>
        <div class="field-check"><input type="checkbox" id="s-cloud-clipboard" checked><label for="s-cloud-clipboard">Sync clipboard to cloud</label></div>
        <div class="field-check"><input type="checkbox" id="s-cloud-messages" checked><label for="s-cloud-messages">Sync typing history to cloud</label></div>
        <button class="btn-ghost-sm" onclick="testCloudConnection()" style="margin-top:6px">Test Connection</button>
        <span id="cloud-test-result" style="font-size:12px;margin-left:8px"></span>
        <p class="hint" style="margin-top:8px">üì± <strong>Phone app:</strong> Open <a href="/mobile" target="_blank" style="color:var(--accent)">on this device</a> or <a href="https://leothefleo49.github.io/TypeKeep/" target="_blank" style="color:var(--accent)">leothefleo49.github.io/TypeKeep</a> on your phone, then enter the same sync key.</p>
        <details style="margin-top:8px">
          <summary style="cursor:pointer;font-size:12px;color:var(--txt-muted)">Advanced: Use your own Supabase</summary>
          <div class="field" style="margin-top:8px"><label>Supabase URL</label><input type="url" id="s-supa-url" placeholder="https://xxxxx.supabase.co" class="mono"></div>
          <div class="field"><label>Supabase Anon Key</label><input type="text" id="s-supa-key" placeholder="eyJhbGciOiJI..." class="mono"></div>
        </details>
      </fieldset>
    </div>
    <div class="modal-footer">
      <button class="btn-ghost" onclick="closeSettings()">Cancel</button>
      <button class="btn-accent" onclick="saveSettings()">Save</button>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê Delete Modal ‚ïê‚ïê‚ïê -->
<div id="delete-modal" class="modal-overlay" style="display:none">
  <div class="modal">
    <div class="modal-header"><h2>Delete Data</h2><button class="icon-btn close-btn" onclick="closeDeleteModal()">&times;</button></div>
    <div class="modal-body">
      <p class="warning-text">&#9888; This action <strong>cannot be undone</strong>.</p>
      <div class="field"><label>Delete events from</label><input type="datetime-local" id="del-start"></div>
      <div class="field"><label>Delete events until</label><input type="datetime-local" id="del-end"></div>
      <p class="hint">Leave blank to delete all events in the current filter range.</p>
    </div>
    <div class="modal-footer">
      <button class="btn-ghost" onclick="closeDeleteModal()">Cancel</button>
      <button class="btn-danger" onclick="confirmDelete()">Delete Permanently</button>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê Macro Editor Modal ‚ïê‚ïê‚ïê -->
<div id="macro-modal" class="modal-overlay" style="display:none">
  <div class="modal modal-lg">
    <div class="modal-header"><h2 id="macro-modal-title">New Macro</h2><button class="icon-btn close-btn" onclick="closeMacroEditor()">&times;</button></div>
    <div class="modal-body">
      <div class="field"><label>Name</label><input type="text" id="macro-name" placeholder="e.g. Open Task Manager"></div>
      <div class="field"><label>Shortcut (optional)</label><input type="text" id="macro-shortcut" placeholder="e.g. ctrl+shift+t" class="mono"></div>
      <div class="macro-actions-header">
        <label>Actions</label>
        <div class="macro-action-btns">
          <button class="btn-ghost-sm" onclick="addMacroAction('hotkey')">+ Hotkey</button>
          <button class="btn-ghost-sm" onclick="addMacroAction('type')">+ Type</button>
          <button class="btn-ghost-sm" onclick="addMacroAction('delay')">+ Delay</button>
          <button class="btn-ghost-sm" onclick="addMacroAction('click')">+ Click</button>
        </div>
      </div>
      <div id="macro-actions" class="macro-actions"></div>
      <div class="macro-presets">
        <label>Quick Presets:</label>
        <button class="btn-ghost-xs" onclick="loadPreset('taskmanager')">Task Manager</button>
        <button class="btn-ghost-xs" onclick="loadPreset('screenshot')">Screenshot</button>
        <button class="btn-ghost-xs" onclick="loadPreset('explorer')">File Explorer</button>
        <button class="btn-ghost-xs" onclick="loadPreset('desktop')">Show Desktop</button>
        <button class="btn-ghost-xs" onclick="loadPreset('lock')">Lock Screen</button>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn-ghost" onclick="closeMacroEditor()">Cancel</button>
      <button class="btn-accent" onclick="saveMacro()">Save Macro</button>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê Onboarding Modal ‚ïê‚ïê‚ïê -->
<div id="onboarding-modal" class="modal-overlay" style="display:none">
  <div class="modal modal-onboarding">
    <div class="onboarding-content" id="onboarding-content"></div>
    <div class="onboarding-nav">
      <div class="onboarding-dots" id="onboarding-dots"></div>
      <div class="onboarding-btns">
        <button class="btn-ghost" id="ob-skip" onclick="skipOnboarding()">Skip</button>
        <button class="btn-accent" id="ob-next" onclick="nextOnboardingStep()">Next</button>
      </div>
    </div>
  </div>
</div>

<!-- Toast -->
<div id="toast" class="toast"></div>

<script src="/static/app.js"></script>
</body>
</html>
