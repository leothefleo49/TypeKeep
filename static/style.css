/* ══════════════════════════════════════════════════════════════
   TypeKeep – dark-theme dashboard stylesheet
   ══════════════════════════════════════════════════════════════ */

:root {
  --bg-base:      #06090f;
  --bg-primary:   #0b1120;
  --bg-secondary: #111827;
  --bg-card:      #151f30;
  --bg-card-ho:   #1b2740;
  --bg-input:     #0d1526;
  --border:       #1e2d44;
  --border-light: #2a3f5f;

  --text-primary: #e2e8f0;
  --text-secondary:#94a3b8;
  --text-muted:   #5a6f8a;

  --accent:       #2dd4bf;
  --accent-hover: #14b8a6;
  --accent-dim:   rgba(45,212,191,.08);
  --danger:       #ef4444;
  --success:      #22c55e;

  --radius:    12px;
  --radius-sm: 8px;
  --radius-xs: 6px;
  --shadow:    0 2px 8px rgba(0,0,0,.35);
  --ease:      .2s ease;
}

/* ── Reset ─────────────────────────────────────────────────── */
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{font-size:15px}
body{
  font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,
              'Helvetica Neue',Arial,sans-serif;
  background:var(--bg-base);
  color:var(--text-primary);
  line-height:1.6;
  min-height:100vh;
  overflow-y:scroll;
}
::selection{background:var(--accent);color:#000}
::-webkit-scrollbar{width:8px;height:8px}
::-webkit-scrollbar-track{background:var(--bg-primary)}
::-webkit-scrollbar-thumb{background:var(--border-light);border-radius:4px}
::-webkit-scrollbar-thumb:hover{background:var(--accent)}

a{color:var(--accent);text-decoration:none}
button{cursor:pointer;font:inherit;border:none;background:none;color:inherit}
select,input{font:inherit;color:var(--text-primary);background:var(--bg-input);
  border:1px solid var(--border);border-radius:var(--radius-xs);padding:6px 10px;
  transition:border var(--ease)}
select:focus,input:focus{outline:none;border-color:var(--accent)}
select{-webkit-appearance:none;appearance:none;
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='6'%3E%3Cpath d='M0 0l5 6 5-6z' fill='%2394a3b8'/%3E%3C/svg%3E");
  background-repeat:no-repeat;background-position:right 10px center;
  padding-right:28px}

/* ── Top Bar ───────────────────────────────────────────────── */
.topbar{
  display:flex;align-items:center;gap:16px;
  padding:14px 28px;
  background:var(--bg-primary);
  border-bottom:1px solid var(--border);
  position:sticky;top:0;z-index:100;
  backdrop-filter:blur(12px);
}
.topbar-left{display:flex;align-items:center;gap:10px}
.logo-icon{font-size:1.5rem}
.logo-text{font-size:1.2rem;font-weight:700;letter-spacing:-.3px;
  background:linear-gradient(135deg,var(--accent),#38bdf8);
  -webkit-background-clip:text;-webkit-text-fill-color:transparent}

.search-wrap{
  flex:1;max-width:520px;position:relative;
}
.search-svg{position:absolute;left:12px;top:50%;transform:translateY(-50%);
  width:16px;height:16px;color:var(--text-muted);pointer-events:none}
.search-wrap input{width:100%;padding:8px 14px 8px 38px;border-radius:var(--radius);
  background:var(--bg-secondary);border:1px solid var(--border)}

.topbar-right{display:flex;align-items:center;gap:10px;margin-left:auto}
.icon-btn{
  width:36px;height:36px;display:grid;place-items:center;
  border-radius:var(--radius-sm);color:var(--text-secondary);
  transition:background var(--ease),color var(--ease);
}
.icon-btn:hover{background:var(--bg-card);color:var(--text-primary)}

/* status button */
.status-btn{
  display:flex;align-items:center;gap:8px;
  padding:6px 14px;border-radius:var(--radius);
  font-size:.85rem;font-weight:600;
  transition:background var(--ease);
}
.status-btn.recording{background:rgba(34,197,94,.12);color:var(--success)}
.status-btn.paused{background:rgba(239,68,68,.12);color:var(--danger)}
.status-dot{
  width:8px;height:8px;border-radius:50%;
}
.status-btn.recording .status-dot{background:var(--success);
  box-shadow:0 0 6px var(--success);animation:pulse 2s infinite}
.status-btn.paused .status-dot{background:var(--danger)}

@keyframes pulse{
  0%,100%{opacity:1}
  50%{opacity:.4}
}

/* ── Stats Bar ─────────────────────────────────────────────── */
.stats-bar{
  display:flex;gap:12px;padding:18px 28px;
  overflow-x:auto;
}
.stat-card{
  flex:1;min-width:150px;
  background:var(--bg-card);border:1px solid var(--border);
  border-radius:var(--radius);padding:14px 18px;
  display:flex;flex-direction:column;gap:2px;
  transition:border-color var(--ease);
}
.stat-card:hover{border-color:var(--accent)}
.stat-value{font-size:1.4rem;font-weight:700;color:var(--accent)}
.stat-label{font-size:.75rem;color:var(--text-muted);text-transform:uppercase;letter-spacing:.5px}

/* ── Filter Bar ────────────────────────────────────────────── */
.filter-bar{
  display:flex;flex-wrap:wrap;align-items:center;
  gap:10px;padding:12px 28px;
  border-bottom:1px solid var(--border);
  background:var(--bg-primary);
}
.filter-bar select{font-size:.85rem;padding:7px 30px 7px 10px}
.toggle-wrap{
  display:flex;align-items:center;gap:6px;
  font-size:.85rem;color:var(--text-secondary);cursor:pointer;
  margin-left:auto;
}
.toggle-wrap input{width:16px;height:16px;accent-color:var(--accent)}

/* ── Message Cards ─────────────────────────────────────────── */
.messages{
  padding:12px 28px 24px;
  display:flex;flex-direction:column;gap:8px;
}

.message-card{
  background:var(--bg-card);
  border:1px solid var(--border);
  border-radius:var(--radius);
  overflow:hidden;
  transition:border-color var(--ease),transform var(--ease),box-shadow var(--ease);
  animation:fadeSlideIn .3s ease both;
}
.message-card:hover{
  border-color:var(--border-light);
  transform:translateY(-1px);
  box-shadow:var(--shadow);
}

@keyframes fadeSlideIn{
  from{opacity:0;transform:translateY(8px)}
  to{opacity:1;transform:translateY(0)}
}

.card-header{
  display:flex;align-items:center;justify-content:space-between;
  flex-wrap:wrap;gap:8px;
  padding:10px 16px;
  background:rgba(255,255,255,.015);
  border-bottom:1px solid var(--border);
}
.card-app-info{
  display:flex;align-items:center;gap:8px;
  font-size:.82rem;min-width:0;
}
.app-icon{font-size:1rem;flex-shrink:0}
.app-name{font-weight:600;color:var(--text-primary);white-space:nowrap}
.window-title{
  color:var(--text-muted);font-size:.78rem;
  white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:320px;
}

.card-meta{
  display:flex;align-items:center;gap:6px;
  font-size:.78rem;color:var(--text-secondary);flex-shrink:0;
}
.card-separator{color:var(--text-muted);opacity:.4}

.copy-btn{
  width:30px;height:30px;display:grid;place-items:center;
  border-radius:var(--radius-xs);color:var(--text-muted);
  transition:all var(--ease);margin-left:4px;
}
.copy-btn:hover{background:var(--accent-dim);color:var(--accent)}
.copy-btn.copied{color:var(--success) !important;background:rgba(34,197,94,.12) !important}

.card-body{padding:10px 16px 14px}
.card-text{
  font-family:'Cascadia Code','Fira Code','Consolas',monospace;
  font-size:.88rem;line-height:1.65;
  white-space:pre-wrap;word-break:break-word;
  color:var(--text-primary);
  margin:0;
}

/* ── Buttons ───────────────────────────────────────────────── */
.btn-accent{
  padding:10px 24px;border-radius:var(--radius-sm);
  background:var(--accent);color:#000;font-weight:600;font-size:.9rem;
  transition:background var(--ease),transform var(--ease);
}
.btn-accent:hover{background:var(--accent-hover);transform:translateY(-1px)}
.btn-ghost{
  padding:10px 24px;border-radius:var(--radius-sm);
  border:1px solid var(--border);color:var(--text-secondary);
  font-weight:500;font-size:.9rem;
  transition:border-color var(--ease),color var(--ease);
}
.btn-ghost:hover{border-color:var(--text-muted);color:var(--text-primary)}

/* ── Load More ─────────────────────────────────────────────── */
.load-more-wrap{
  display:flex;justify-content:center;padding:8px 28px 32px;
}

/* ── Empty state ───────────────────────────────────────────── */
.empty-state{
  display:flex;flex-direction:column;align-items:center;
  justify-content:center;gap:8px;padding:80px 28px;
  color:var(--text-muted);
}
.empty-icon{font-size:3rem;opacity:.5}
.empty-state h3{font-size:1.1rem;color:var(--text-secondary)}
.empty-state p{font-size:.88rem}

/* ── Loading ───────────────────────────────────────────────── */
.loading-indicator{
  display:flex;justify-content:center;padding:40px;
}
.spinner{
  width:28px;height:28px;border:3px solid var(--border);
  border-top-color:var(--accent);border-radius:50%;
  animation:spin .7s linear infinite;
}
@keyframes spin{to{transform:rotate(360deg)}}

/* ── Modal ─────────────────────────────────────────────────── */
.modal-overlay{
  position:fixed;inset:0;z-index:1000;
  display:grid;place-items:center;
  background:rgba(0,0,0,.6);backdrop-filter:blur(4px);
}
.modal{
  background:var(--bg-secondary);border:1px solid var(--border);
  border-radius:var(--radius);width:min(480px,90vw);
  box-shadow:0 16px 48px rgba(0,0,0,.5);
  animation:modalIn .2s ease;
}
@keyframes modalIn{from{opacity:0;transform:scale(.96)}to{opacity:1;transform:scale(1)}}

.modal-header{
  display:flex;align-items:center;justify-content:space-between;
  padding:18px 24px;border-bottom:1px solid var(--border);
}
.modal-header h2{font-size:1.1rem;font-weight:700}
.close-btn{font-size:1.3rem;width:32px;height:32px}

.modal-body{padding:24px;display:flex;flex-direction:column;gap:18px}
.field{display:flex;flex-direction:column;gap:6px}
.field label{font-size:.85rem;color:var(--text-secondary)}
.field input{padding:8px 12px}
.field-check{display:flex;align-items:center;gap:10px}
.field-check input{width:18px;height:18px;accent-color:var(--accent)}
.field-check label{font-size:.9rem;cursor:pointer}

.modal-footer{
  display:flex;justify-content:flex-end;gap:10px;
  padding:16px 24px;border-top:1px solid var(--border);
}

/* ── Toast ─────────────────────────────────────────────────── */
.toast{
  position:fixed;bottom:28px;left:50%;transform:translateX(-50%) translateY(20px);
  padding:10px 22px;border-radius:var(--radius-sm);
  background:var(--bg-card);border:1px solid var(--border);
  color:var(--text-primary);font-size:.88rem;font-weight:500;
  box-shadow:0 8px 24px rgba(0,0,0,.4);
  opacity:0;pointer-events:none;
  transition:opacity .25s ease,transform .25s ease;
  z-index:2000;
}
.toast.show{opacity:1;transform:translateX(-50%) translateY(0);pointer-events:auto}

/* ── Responsive ────────────────────────────────────────────── */
@media(max-width:768px){
  .topbar{padding:10px 14px;gap:10px}
  .search-wrap{max-width:none}
  .stats-bar{padding:12px 14px;gap:8px}
  .stat-card{min-width:120px;padding:10px 12px}
  .filter-bar{padding:10px 14px}
  .messages{padding:8px 14px 20px}
  .window-title{max-width:180px}
}
